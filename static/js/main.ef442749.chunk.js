(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(e,t,a){},,,function(e,t,a){e.exports=a(28)},,,,,function(e,t,a){},,function(e,t,a){},,,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(10),r=a.n(c),o=(a(17),a(2)),s=a(3),l=a(6),h=a(4),u=a(5),g=a(1),d=function(e,t){return"flicker"===t?function(e){var t="https://api.flickr.com/services/rest?method=flickr.photos.search&sort=relevance&format=json&nojsoncallback=1&"+"api_key=".concat("e38f1bc56d9486ca37e84667b7a98ba8","&text=").concat(e);return fetch(t).then(function(e){return e.json()}).then(function(e){return e.photos.photo.map(function(e){return function(e){return{id:e.id,url:"http://farm".concat(e.farm,".staticflickr.com/").concat(e.server,"/").concat(e.id,"_").concat(e.secret,".jpg")}}(e)})}).catch(function(e){return console.log("error: ",e),e})}(e):"giphy"===t?function(e){var t="".concat("//api.giphy.com/v1/gifs/search","?api_key=").concat("YoyUyRGt2YenjFvxfq87V5gvNjak2EBQ","&q=").concat(e);return fetch(t).then(function(e){return e.json()}).then(function(e){return e.data.map(function(e){return function(e){return{id:e.id,url:e.images.original_mp4}}(e)})}).catch(function(e){return console.log("error: ",e),e})}(e):void 0};a(19);function m(e){var t=e.searchValue,a=e.searchTermChanged,n=e.search,c=e.engine,r=e.engineChanged;return i.a.createElement("div",{className:"search"},i.a.createElement("label",{htmlFor:"search-input"},"Search images:"),i.a.createElement("input",{id:"search-input",type:"text",placeholder:"Enter search term (e.g. 'cats')",value:t,onChange:a,onKeyPress:function(e){"Enter"===e.key&&n()}}),i.a.createElement("select",{value:c,onChange:r},i.a.createElement("option",{value:"flicker"},"Flicker"),i.a.createElement("option",{value:"giphy"},"Gighy")),i.a.createElement("input",{onClick:n,type:"submit",value:"Search"}))}var p=a(7),f=(a(9),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).placeholderUrl="//via.placeholder.com/350x350?text=loading",a.state={visibility:!1},a.handleChange=a.handleChange.bind(Object(g.a)(Object(g.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e){e&&this.setState({visibility:e})}},{key:"render",value:function(){var e=this.props,t=e.photo,a=e.onImageClick;return i.a.createElement("article",null,i.a.createElement(p.a,{onChange:this.handleChange,rootMargin:"100px 100px 100px 100px"},i.a.createElement("a",{href:"#",onClick:a,className:"photos-grid__link",id:t.id},this.state.visibility&&i.a.createElement("figure",{className:"absolute-bg",style:{backgroundImage:"url(".concat(t.url,")")}}),!this.state.visibility&&i.a.createElement("figure",{className:"absolute-bg",style:{backgroundImage:"url(".concat(this.placeholderUrl,")")}}))))}}]),t}(i.a.Component));a(22);function v(e){var t=e.type,a=e.photos,n=e.onImageClick;return i.a.createElement("div",{className:"photos-grid"},a.map(function(e){return i.a.createElement(f,{key:e.id,type:t,photo:e,onImageClick:n})}))}var b=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={visibility:!1},a.handleChange=a.handleChange.bind(Object(g.a)(Object(g.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e){this.setState({visibility:e})}},{key:"render",value:function(){var e=this.props,t=e.video,a=e.onVideoClick;return i.a.createElement("article",null,i.a.createElement(p.a,{onChange:this.handleChange,rootMargin:"50px 50px 50px 50px"},i.a.createElement("a",{href:"#",onClick:a,className:"photos-grid__link",id:t.id},i.a.createElement("video",{autoPlay:!0,loop:!0,muted:!0},i.a.createElement("source",{src:t.url.mp4})))))}}]),t}(i.a.Component);a(24);function k(e){e.type;var t=e.videos,a=e.onVideoClick;return i.a.createElement("div",{className:"videos-grid"},t.map(function(e){return i.a.createElement(b,{key:e.id,video:e,onVideoClick:a})}))}a(26);var C=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={loading:!0,searchValue:"car",engine:"flicker",photos:[]},a.search=a.search.bind(Object(g.a)(Object(g.a)(a))),a.searchTermChanged=a.searchTermChanged.bind(Object(g.a)(Object(g.a)(a))),a.searchEngineChanged=a.searchEngineChanged.bind(Object(g.a)(Object(g.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.search()}},{key:"searchTermChanged",value:function(e){this.setState({searchValue:e.target.value})}},{key:"searchEngineChanged",value:function(e){var t=this,a=e.target.value;this.setState({engine:a},function(){return t.search()})}},{key:"search",value:function(){var e=this;this.setState({loading:!0,images:[]}),d(this.state.searchValue,this.state.engine).then(function(t){e.setState({photos:t,loading:!1})}).catch(function(t){return e.setState({photos:[],loading:!1})})}},{key:"onImageClick",value:function(e){console.log("onImageClick: ",e.target.id)}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(m,{search:this.search,engine:this.state.engine,engineChanged:this.searchEngineChanged,searchTermChanged:this.searchTermChanged,searchValue:this.state.searchValue}),i.a.createElement("div",null,this.state.loading&&i.a.createElement("div",{className:"loading"},"Loading..."),0===this.state.photos.length&&!this.state.loading&&i.a.createElement("div",null,"Can't find photos for this search term"),this.state.photos.length>0&&!this.state.loading&&i.a.createElement(i.a.Fragment,null,"flicker"===this.state.engine&&i.a.createElement(v,{photos:this.state.photos,onImageClick:this.onImageClick}),"giphy"===this.state.engine&&i.a.createElement(k,{videos:this.state.photos,onVideoClick:this.onImageClick}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[12,2,1]]]);
//# sourceMappingURL=main.ef442749.chunk.js.map